# R for travis: see documentation at https://docs.travis-ci.com/user/languages/r
#   - Rscript -e 'pkgdown::build_site()'

language: r
cache: packages

r:
  - oldrel
  - release
  - devel

after_success:
  - Rscript -e 'covr::codecov()'


after_failure:
 - ./travis-tool.sh dump_logs

notifications:
  email:
    recipients:
      - bonhomme.vincent@gmail.com
    on_success: change
    on_failure: change

deploy:
  provider: pages
  cleanup: true
  github_token: $GITHUB_PAT
  keep_history: true
  local_dir: docs
  on:
    branch: master
