# Scale to unit centroid size

Scale shape coordinates to unit centroid size (without centering).

## Usage

``` r
coo_scale(x, ..., .cols = NULL, .ldk_col = NULL)
```

## Arguments

- x:

  A matrix (nx2), list of matrices, or tibble with coo columns.

- ...:

  Additional arguments (reserved for future use).

- .cols:

  Column name(s) to process when `x` is a tibble. If `NULL`,
  automatically detects columns containing coo objects.

- .ldk_col:

  Character. Name of landmark column. If `NULL`, uses `colname_ldk`.

## Value

- If `x` is a single matrix: returns the scaled matrix

- If `x` is a list: returns a list of scaled matrices

- If `x` is a tibble: returns the tibble with scaled coo column(s)

## Details

Scales coordinates to unit centroid size: divides all coordinates by
centroid size. Equivalent to `scale(x, center = FALSE, scale = TRUE)` in
base R.

Does NOT center the shape first. Use
[`coo_center()`](https://momx.github.io/Momocs2/reference/coo_center.md)
before `coo_scale()` if needed.

For rescaling by a custom factor, use
[`coo_rescale()`](https://momx.github.io/Momocs2/reference/coo_rescale.md).

Landmarks are synced.

## See also

[`coo_rescale()`](https://momx.github.io/Momocs2/reference/coo_rescale.md)
for custom scaling;
[`coo_center()`](https://momx.github.io/Momocs2/reference/coo_center.md)
for centering

## Examples

``` r
# Scale to unit centroid size
coo_scale(shapes$cat)
#>             [,1]       [,2]
#>   [1,] 1.0392112 0.53085569
#>   [2,] 1.0184270 0.47948256
#>   [3,] 1.0392112 0.47948256
#>   [4,] 1.0703875 0.46235818
#>   [5,] 1.0859757 0.41098505
#>   [6,] 1.0651915 0.36817411
#>   [7,] 1.0392112 0.36817411
#>   [8,] 1.0080349 0.35961192
#>   [9,] 0.9768585 0.35961192
#>  [10,] 0.9456822 0.35961192
#>  [11,] 0.9145059 0.36817411
#>  [12,] 0.8833295 0.36817411
#>  [13,] 0.8521532 0.36817411
#>  [14,] 0.8209768 0.36817411
#>  [15,] 0.7898005 0.36817411
#>  [16,] 0.7586242 0.37673630
#>  [17,] 0.7430360 0.35104973
#>  [18,] 0.7378400 0.30823879
#>  [19,] 0.7534281 0.25686566
#>  [20,] 0.7794084 0.21405471
#>  [21,] 0.8105847 0.19693034
#>  [22,] 0.8417611 0.17980596
#>  [23,] 0.8729374 0.17124377
#>  [24,] 0.9041137 0.16268158
#>  [25,] 0.9352901 0.16268158
#>  [26,] 0.9664664 0.17124377
#>  [27,] 0.9976428 0.17980596
#>  [28,] 1.0288191 0.18836815
#>  [29,] 1.0547994 0.18836815
#>  [30,] 1.0807796 0.16268158
#>  [31,] 1.0496033 0.12843283
#>  [32,] 1.0184270 0.11130845
#>  [33,] 0.9872506 0.09418407
#>  [34,] 0.9560743 0.08562189
#>  [35,] 0.9248980 0.07705970
#>  [36,] 0.8937216 0.07705970
#>  [37,] 0.8625453 0.07705970
#>  [38,] 0.8313690 0.08562189
#>  [39,] 0.8001926 0.09418407
#>  [40,] 0.7742123 0.11130845
#>  [41,] 0.7430360 0.13699502
#>  [42,] 0.7118597 0.17980596
#>  [43,] 0.6910754 0.23117909
#>  [44,] 0.6754873 0.28255222
#>  [45,] 0.6754873 0.33392535
#>  [46,] 0.6754873 0.38529849
#>  [47,] 0.6858794 0.43667162
#>  [48,] 0.7014676 0.48804475
#>  [49,] 0.7066636 0.53941788
#>  [50,] 0.7066636 0.59079101
#>  [51,] 0.7014676 0.63360195
#>  [52,] 0.6962715 0.68497509
#>  [53,] 0.6962715 0.73634822
#>  [54,] 0.6910754 0.78772135
#>  [55,] 0.6910754 0.83909448
#>  [56,] 0.6910754 0.89046761
#>  [57,] 0.6962715 0.94184074
#>  [58,] 0.6962715 0.99321387
#>  [59,] 0.7066636 1.04458701
#>  [60,] 0.7222518 1.09596014
#>  [61,] 0.7378400 1.14733327
#>  [62,] 0.7482321 1.19014421
#>  [63,] 0.7690163 1.24151734
#>  [64,] 0.7949966 1.29289047
#>  [65,] 0.8261729 1.34426360
#>  [66,] 0.8573492 1.36995017
#>  [67,] 0.8885256 1.38707455
#>  [68,] 0.9197019 1.41276111
#>  [69,] 0.9508782 1.45557206
#>  [70,] 0.9768585 1.50694519
#>  [71,] 0.9924467 1.55831832
#>  [72,] 0.9924467 1.60112926
#>  [73,] 0.9976428 1.65250239
#>  [74,] 1.0080349 1.70387552
#>  [75,] 1.0236230 1.75524866
#>  [76,] 1.0547994 1.79805960
#>  [77,] 1.0859757 1.83230835
#>  [78,] 1.1015639 1.88368148
#>  [79,] 1.1223481 1.93505462
#>  [80,] 1.1483284 1.97786556
#>  [81,] 1.1691126 1.93505462
#>  [82,] 1.1743087 1.88368148
#>  [83,] 1.1743087 1.84087054
#>  [84,] 1.1847008 1.80662179
#>  [85,] 1.2158771 1.78093522
#>  [86,] 1.2418574 1.74668647
#>  [87,] 1.2678377 1.70387552
#>  [88,] 1.2938179 1.66962677
#>  [89,] 1.2886219 1.61825364
#>  [90,] 1.2678377 1.56688051
#>  [91,] 1.2366613 1.52406956
#>  [92,] 1.2210732 1.48125862
#>  [93,] 1.2210732 1.42988549
#>  [94,] 1.2262692 1.38707455
#>  [95,] 1.2314653 1.33570142
#>  [96,] 1.2314653 1.28432829
#>  [97,] 1.2314653 1.23295515
#>  [98,] 1.2314653 1.18158202
#>  [99,] 1.2210732 1.13020889
#> [100,] 1.2002889 1.07883576
#> [101,] 1.1795047 1.02746263
#> [102,] 1.1639165 0.97608950
#> [103,] 1.1535244 0.92471637
#> [104,] 1.1483284 0.87334323
#> [105,] 1.1483284 0.83053229
#> [106,] 1.1483284 0.77915916
#> [107,] 1.1483284 0.72778603
#> [108,] 1.1483284 0.67641290
#> [109,] 1.1483284 0.62503977
#> [110,] 1.1535244 0.57366663
#> [111,] 1.1639165 0.53085569
#> [112,] 1.1950929 0.51373131
#> [113,] 1.2054850 0.47092037
#> [114,] 1.1950929 0.41954724
#> [115,] 1.1639165 0.38529849
#> [116,] 1.1379363 0.38529849
#> [117,] 1.1067599 0.40242286
#> [118,] 1.0807796 0.45379599
#> [119,] 1.0599954 0.50516913
#> [120,] 1.0496033 0.55654226
#> attr(,"scaled:scale")
#> [1] 192.4537 116.7926
#> attr(,"class")
#> [1] "coo"    "matrix" "array" 

# Center then scale
shapes$cat %>% coo_center() %>% coo_scale()
#>                [,1]        [,2]
#>   [1,]  0.323197443 -0.47007070
#>   [2,]  0.214330936 -0.55766151
#>   [3,]  0.323197443 -0.55766151
#>   [4,]  0.486497204 -0.58685845
#>   [5,]  0.568147085 -0.67444926
#>   [6,]  0.459280578 -0.74744161
#>   [7,]  0.323197443 -0.74744161
#>   [8,]  0.159897683 -0.76204008
#>   [9,] -0.003402078 -0.76204008
#>  [10,] -0.166701839 -0.76204008
#>  [11,] -0.330001600 -0.74744161
#>  [12,] -0.493301361 -0.74744161
#>  [13,] -0.656601122 -0.74744161
#>  [14,] -0.819900883 -0.74744161
#>  [15,] -0.983200644 -0.74744161
#>  [16,] -1.146500405 -0.73284314
#>  [17,] -1.228150285 -0.77663855
#>  [18,] -1.255366912 -0.84963089
#>  [19,] -1.173717031 -0.93722170
#>  [20,] -1.037633897 -1.01021405
#>  [21,] -0.874334136 -1.03941099
#>  [22,] -0.711034376 -1.06860792
#>  [23,] -0.547734615 -1.08320639
#>  [24,] -0.384434854 -1.09780486
#>  [25,] -0.221135093 -1.09780486
#>  [26,] -0.057835332 -1.08320639
#>  [27,]  0.105464429 -1.06860792
#>  [28,]  0.268764190 -1.05400945
#>  [29,]  0.404847324 -1.05400945
#>  [30,]  0.540930458 -1.09780486
#>  [31,]  0.377630697 -1.15619874
#>  [32,]  0.214330936 -1.18539567
#>  [33,]  0.051031175 -1.21459261
#>  [34,] -0.112268586 -1.22919108
#>  [35,] -0.275568347 -1.24378955
#>  [36,] -0.438868107 -1.24378955
#>  [37,] -0.602167868 -1.24378955
#>  [38,] -0.765467629 -1.22919108
#>  [39,] -0.928767390 -1.21459261
#>  [40,] -1.064850524 -1.18539567
#>  [41,] -1.228150285 -1.14160027
#>  [42,] -1.391450046 -1.06860792
#>  [43,] -1.500316553 -0.98101711
#>  [44,] -1.581966434 -0.89342630
#>  [45,] -1.581966434 -0.80583548
#>  [46,] -1.581966434 -0.71824467
#>  [47,] -1.527533180 -0.63065386
#>  [48,] -1.445883300 -0.54306304
#>  [49,] -1.418666673 -0.45547223
#>  [50,] -1.418666673 -0.36788142
#>  [51,] -1.445883300 -0.29488907
#>  [52,] -1.473099926 -0.20729826
#>  [53,] -1.473099926 -0.11970745
#>  [54,] -1.500316553 -0.03211663
#>  [55,] -1.500316553  0.05547418
#>  [56,] -1.500316553  0.14306500
#>  [57,] -1.473099926  0.23065581
#>  [58,] -1.473099926  0.31824662
#>  [59,] -1.418666673  0.40583744
#>  [60,] -1.337016792  0.49342825
#>  [61,] -1.255366912  0.58101906
#>  [62,] -1.200933658  0.65401141
#>  [63,] -1.092067151  0.74160222
#>  [64,] -0.955984017  0.82919303
#>  [65,] -0.792684256  0.91678385
#>  [66,] -0.629384495  0.96057925
#>  [67,] -0.466084734  0.98977619
#>  [68,] -0.302784973  1.03357160
#>  [69,] -0.139485212  1.10656394
#>  [70,] -0.003402078  1.19415476
#>  [71,]  0.078247802  1.28174557
#>  [72,]  0.078247802  1.35473791
#>  [73,]  0.105464429  1.44232873
#>  [74,]  0.159897683  1.52991954
#>  [75,]  0.241547563  1.61751035
#>  [76,]  0.404847324  1.69050270
#>  [77,]  0.568147085  1.74889657
#>  [78,]  0.649796965  1.83648739
#>  [79,]  0.758663473  1.92407820
#>  [80,]  0.894746607  1.99707055
#>  [81,]  1.003613114  1.92407820
#>  [82,]  1.030829741  1.83648739
#>  [83,]  1.030829741  1.76349504
#>  [84,]  1.085262994  1.70510117
#>  [85,]  1.248562755  1.66130576
#>  [86,]  1.384645889  1.60291189
#>  [87,]  1.520729023  1.52991954
#>  [88,]  1.656812157  1.47152567
#>  [89,]  1.629595531  1.38393485
#>  [90,]  1.520729023  1.29634404
#>  [91,]  1.357429263  1.22335169
#>  [92,]  1.275779382  1.15035935
#>  [93,]  1.275779382  1.06276854
#>  [94,]  1.302996009  0.98977619
#>  [95,]  1.330212636  0.90218538
#>  [96,]  1.330212636  0.81459456
#>  [97,]  1.330212636  0.72700375
#>  [98,]  1.330212636  0.63941294
#>  [99,]  1.275779382  0.55182212
#> [100,]  1.166912875  0.46423131
#> [101,]  1.058046368  0.37664050
#> [102,]  0.976396487  0.28904968
#> [103,]  0.921963233  0.20145887
#> [104,]  0.894746607  0.11386806
#> [105,]  0.894746607  0.04087571
#> [106,]  0.894746607 -0.04671510
#> [107,]  0.894746607 -0.13430591
#> [108,]  0.894746607 -0.22189673
#> [109,]  0.894746607 -0.30948754
#> [110,]  0.921963233 -0.39707835
#> [111,]  0.976396487 -0.47007070
#> [112,]  1.139696248 -0.49926764
#> [113,]  1.194129502 -0.57225998
#> [114,]  1.139696248 -0.65985079
#> [115,]  0.976396487 -0.71824467
#> [116,]  0.840313353 -0.71824467
#> [117,]  0.677013592 -0.68904773
#> [118,]  0.540930458 -0.60145692
#> [119,]  0.432063951 -0.51386611
#> [120,]  0.377630697 -0.42627529
#> attr(,"scaled:center")
#> [1] 188.125  94.200
#> attr(,"class")
#> [1] "coo"    "matrix" "array" 
#> attr(,"scaled:scale")
#> [1] 36.74225 68.50033
```
