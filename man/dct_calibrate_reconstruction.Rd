% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/morpho_calibrate.R
\name{dct_calibrate_reconstruction}
\alias{dct_calibrate_reconstruction}
\title{Calibrate number of harmonics using visual reconstruction}
\usage{
dct_calibrate_reconstruction(
  x,
  nb_h_range = 2:10,
  id = NULL,
  nb_pts = 60,
  .cols = NULL
)
}
\arguments{
\item{x}{A tibble with coo columns containing open curves.}

\item{nb_h_range}{Integer vector. Range of harmonics to display. Default is 2:10 (9 panels).}

\item{id}{Integer or NULL. Which shape to display. If NULL, randomly samples one.}

\item{nb_pts}{Integer. Number of points for reconstruction. Default is 60.}

\item{.cols}{Column name(s) to process. If NULL, uses first coo column.
Supports tidyeval (e.g., \code{.cols = VD}).}
}
\value{
A list with class \code{c("calibrate_reconstruction", "calibrate")} containing:
\itemize{
\item \code{data}: List of reconstructed coordinates at each harmonic level
\item \code{original}: Original shape coordinates (not scaled)
\item \code{nb_h_range}: The harmonics displayed
\item \code{id}: Index of shape used
}

The list has attributes:
\itemize{
\item \code{method}: "dct"
\item \code{metric}: "reconstruction"
}
}
\description{
Visually compare reconstructed shapes at different harmonic numbers to
assess fit quality and determine optimal nb_h.
}
\details{
This function creates a multi-panel plot (3x3 grid for default 9 harmonics) showing:
\itemize{
\item Original shape in black
\item Reconstructed shape in red
\item One panel per harmonic level in \code{nb_h_range}
\item Visual assessment of how reconstruction improves with harmonics
}
}
\examples{
# Calibrate on single shape from olea
data(olea)
olea \%>\% dct_calibrate_reconstruction(id = 1, .cols=VL)

# Try different harmonic ranges
olea \%>\% dct_calibrate_reconstruction(id = 5, nb_h_range = 3:11, .cols=VL)

# Tidyeval column selection
olea \%>\% dct_calibrate_reconstruction(.cols = VL, id = 1)

}
\seealso{
\code{\link[=dct_calibrate_harmonicpower]{dct_calibrate_harmonicpower()}}, \code{\link[=dct]{dct()}}
}
