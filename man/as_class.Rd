% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/classes_and_printers.R
\name{as_class}
\alias{as_class}
\alias{as_coo}
\alias{as_out}
\alias{as_ldk}
\alias{as_xy}
\alias{as_ldk_id}
\alias{as_cur}
\alias{as_path}
\alias{as_meas}
\alias{as_coe}
\alias{as_eft}
\alias{as_rft}
\alias{as_dct}
\alias{as_npoly}
\alias{as_opoly}
\alias{as_proc}
\title{Coerce to Momocs morphometric classes}
\usage{
as_coo(x)

as_out(x)

as_ldk(x)

as_xy(x)

as_ldk_id(x)

as_cur(x)

as_path(x)

as_meas(x)

as_coe(x)

as_eft(x)

as_rft(x)

as_dct(x)

as_npoly(x)

as_opoly(x)

as_proc(x)
}
\arguments{
\item{x}{An object to coerce (typically a matrix, vector, or list).}
}
\value{
Object with updated class attribute.
}
\description{
Add class attributes to objects for proper S3 dispatch and printing in
morphometric workflows.
}
\details{
These functions add Momocs-specific class attributes that enable:
\itemize{
\item Custom printing methods
\item Pretty display in tibbles (via pillar)
\item S3 method dispatch for morphometric operations
\item Type checking and validation
}
\subsection{Coordinate classes (inherit from \code{"coo"})}{

Used for shape coordinate data, typically stored as nx2 matrices or
list-columns of matrices:
\itemize{
\item \strong{\code{as_coo()}}: Generic coordinate object - base class for all coordinate types
\item \strong{\code{as_out()}}: Closed outlines - class \code{c("out", "coo")}. For shapes where
the first and last points connect (e.g., leaf outlines, bottle silhouettes)
\item \strong{\code{as_ldk()}}: Landmarks - class \code{c("ldk", "coo")}. For discrete anatomical
points (e.g., skull landmarks, wing vein intersections)
\item \strong{\code{as_cur()}}: Open curves - class \code{c("cur", "coo")}. For shapes with distinct
start and end points (e.g., leaf midribs, antenna segments)
}
}

\subsection{Single coordinate matrix}{
\itemize{
\item \strong{\code{as_xy()}}: Single coordinate matrix - class \code{"xy"}. Used for individual
shape matrices (not list-columns). Has custom print method showing dimensions
}
}

\subsection{Landmark identifiers}{
\itemize{
\item \strong{\code{as_ldk_id()}}: Landmark indices - class \code{"ldk_id"}. Integer vectors
indicating which points are landmarks. Does NOT inherit from \code{"coo"} since
it contains indices, not coordinates
}
}

\subsection{Path metadata}{
\itemize{
\item \strong{\code{as_path()}}: File paths - class \code{"path"}. Character vectors of image file
paths, typically used to track source images for shapes
}
}

\subsection{Measurement data}{
\itemize{
\item \strong{\code{as_meas()}}: Measurements - class \code{"meas"}. Numeric vectors of shape
measurements (area, perimeter, etc.)
}
}

\subsection{Coefficient classes (all inherit from \code{"coe"})}{

Used for shape descriptors from various decomposition methods:
\itemize{
\item \strong{\code{as_coe()}}: Generic coefficient object - class \code{"coe"}. Base class for
all coefficient types
\item \strong{\code{as_eft()}}: Elliptic Fourier coefficients - class \code{c("eft", "coe")}.
From closed outline decomposition (outlines)
\item \strong{\code{as_rft()}}: Radii variation Fourier coefficients - class \code{c("rft", "coe")}.
From radii-based decomposition (outlines)
\item \strong{\code{as_dct()}}: Discrete Cosine Transform coefficients - class \code{c("dct", "coe")}.
From open curve decomposition (curves)
\item \strong{\code{as_npoly()}}: Natural polynomial coefficients - class \code{c("npoly", "coe")}.
From polynomial fitting (curves)
\item \strong{\code{as_opoly()}}: Orthogonal polynomial coefficients - class \code{c("opoly", "coe")}.
From orthogonal polynomial fitting (curves)
\item \strong{\code{as_proc()}}: Procrustes coefficients - class \code{c("proc", "coe")}.
From Procrustes superimposition (landmarks)
}
}

\subsection{Class hierarchy}{

\if{html}{\out{<div class="sourceCode">}}\preformatted{coo (coordinates)
├── out (closed outlines)
├── ldk (landmarks)
└── cur (open curves)

coe (coefficients)
├── eft (elliptic Fourier - outlines)
├── rft (radii Fourier - outlines)
├── dct (discrete cosine - curves)
├── npoly (natural polynomial - curves)
├── opoly (orthogonal polynomial - curves)
└── proc (Procrustes - landmarks)

xy (single coordinate matrix)
ldk_id (landmark indices)
path (file paths)
meas (measurements)
}\if{html}{\out{</div>}}
}
}
\examples{
# Coordinate classes
mat <- matrix(rnorm(100), ncol = 2)
coo <- as_coo(mat)
class(coo)  # "coo" "matrix" "array"

outline <- as_out(mat)
class(outline)  # "out" "coo" "matrix" "array"

landmarks <- as_ldk(mat)
class(landmarks)  # "ldk" "coo" "matrix" "array"

# Coefficient classes
coefs <- rnorm(24)  # 6 harmonics × 4 coefficients
eft_coefs <- as_eft(coefs)
class(eft_coefs)  # "eft" "coe" "numeric"

# Landmark identifiers (NOT coo)
ldk_indices <- as_ldk_id(c(1, 5, 10, 25))
class(ldk_indices)  # "ldk_id" "integer"

# In tibbles
library(dplyr)
tibble(
  shape = list(mat, mat * 2),
  coef = list(coefs, coefs * 2)
) \%>\%
  mutate(
    shape = as_out(shape),
    coef = as_eft(coef)
  )

}
\seealso{
\code{\link[=declass]{declass()}} to remove Momocs classes
}
