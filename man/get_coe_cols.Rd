% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils-listcolumns.R
\name{get_coe_cols}
\alias{get_coe_cols}
\alias{get_all_coe_cols}
\title{Identify coe columns in a tibble}
\usage{
get_coe_cols(df, .cols = NULL)

get_all_coe_cols(df)
}
\arguments{
\item{df}{A data frame or tibble}

\item{.cols}{Optional. Explicitly specify which column(s) to use. Can be:
\itemize{
\item Character vector of column names
\item Integer vector of column positions
\item Logical vector
If \code{NULL} (default), automatically detects columns with class \code{"coe"}.
}}
}
\value{
\itemize{
\item \code{get_coe_cols()}: Character string with single column name
\item \code{get_all_coe_cols()}: Character vector with all coe column names
}
}
\description{
Detect and return the name of coefficient column(s) in a tibble. These functions
look for columns with class \code{"coe"} in their class hierarchy.
}
\details{
\subsection{Detection strategy}{

Both functions look for columns that have \code{"coe"} anywhere in their class
hierarchy. This includes:
\itemize{
\item Columns with class \code{c("coe", "list")}
\item Columns with class \code{c("eft", "coe", "list")}
\item Columns with class \code{c("opoly", "coe", "list")}
\item Columns with class \code{c("npoly", "coe", "list")}
\item Columns with class \code{c("dct", "coe", "list")}
\item Any other combination where \code{"coe"} is present
}

All morphometric methods automatically add the \code{"coe"} class to their output columns.
}

\subsection{Differences between functions}{
\itemize{
\item \strong{\code{get_coe_cols()}}: Returns a single column name. Errors if:
\itemize{
\item No \code{"coe"} columns found
\item Multiple \code{"coe"} columns found (user must specify \code{.cols})
}
\item \strong{\code{get_all_coe_cols()}}: Returns all coe column names as a vector. Errors only if:
\itemize{
\item No \code{"coe"} columns found
}
}
}

\subsection{Manual specification}{

If automatic detection fails or you want to use a specific column,
use the \code{.cols} argument in \code{get_coe_cols()}:

\if{html}{\out{<div class="sourceCode r">}}\preformatted{get_coe_cols(df, .cols = "VD_coe")
get_coe_cols(df, .cols = 2)  # Second column
}\if{html}{\out{</div>}}
}
}
\examples{
# Single coe column
data(bot)
bot_eft <- bot \%>\% eft()
get_coe_cols(bot_eft)
# [1] "coe"

# Multiple coe columns
data(olea)
olea_poly <- olea \%>\% opoly()
get_all_coe_cols(olea_poly)
# [1] "VD_coe" "VL_coe"

# get_coe_cols() errors with multiple
try(get_coe_cols(olea_poly))
# Error: Multiple coe columns found: VD_coe, VL_coe

# But can specify explicitly
get_coe_cols(olea_poly, .cols = "VD_coe")
# [1] "VD_coe"

# Use with inverse transforms
olea \%>\%
  opoly() \%>\%
  opoly_i(.cols = get_coe_cols(., "VD_coe"))

}
\seealso{
\code{\link[=get_coo_cols]{get_coo_cols()}}, \code{\link[=get_all_coo_cols]{get_all_coo_cols()}}, \code{\link[=opoly]{opoly()}}, \code{\link[=npoly]{npoly()}}, \code{\link[=dct]{dct()}}, \code{\link[=eft]{eft()}}
}
